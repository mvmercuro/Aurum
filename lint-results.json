[{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\app\\product\\[id]\\page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":30,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Layout } from \"@/components/Layout\";\nimport { productsApi } from \"@/lib/api\";\nimport { notFound } from \"next/navigation\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { ShoppingBag, Star } from \"lucide-react\";\n\ninterface ProductPageProps {\n  params: Promise<{ id: string }>;\n}\n\nexport default async function ProductPage({ params }: ProductPageProps) {\n  const { id } = await params;\n  \n  let product;\n  try {\n    product = await productsApi.getById(parseInt(id));\n  } catch (error) {\n    notFound();\n  }\n\n  const price = (product.priceCents / 100).toFixed(2);\n  const imageUrl = product.imageUrl || \"/images/flower-category.jpg\";\n\n  return (\n    <Layout>\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid md:grid-cols-2 gap-12\">\n          <div className=\"aspect-square overflow-hidden rounded-lg border border-border\">\n            <img\n              src={imageUrl}\n              alt={product.name}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n\n          <div className=\"space-y-6\">\n            <div>\n              <p className=\"text-sm font-medium text-primary uppercase tracking-wider mb-2\">\n                {product.brand || \"Premium\"}\n              </p>\n              <h1 className=\"text-4xl font-bold font-serif mb-4\">{product.name}</h1>\n              <div className=\"flex items-center gap-4 mb-4\">\n                {product.strainType && (\n                  <Badge variant=\"secondary\" className=\"text-sm\">\n                    {product.strainType.toUpperCase()}\n                  </Badge>\n                )}\n                {product.inventoryCount > 0 ? (\n                  <Badge variant=\"secondary\" className=\"bg-green-500/80 text-green-950\">\n                    In Stock\n                  </Badge>\n                ) : (\n                  <Badge variant=\"destructive\">Out of Stock</Badge>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-baseline gap-4\">\n              <span className=\"text-4xl font-bold\">${price}</span>\n              <span className=\"text-muted-foreground\">{product.weight || \"3.5g\"}</span>\n            </div>\n\n            {product.description && (\n              <p className=\"text-muted-foreground leading-relaxed\">{product.description}</p>\n            )}\n\n            <div className=\"grid grid-cols-2 gap-4 p-4 bg-secondary/20 rounded-lg\">\n              {product.thcPercentage && (\n                <div>\n                  <p className=\"text-xs text-muted-foreground\">THC</p>\n                  <p className=\"text-xl font-bold\">{product.thcPercentage}%</p>\n                </div>\n              )}\n              {product.cbdPercentage && (\n                <div>\n                  <p className=\"text-xs text-muted-foreground\">CBD</p>\n                  <p className=\"text-xl font-bold\">{product.cbdPercentage}%</p>\n                </div>\n              )}\n            </div>\n\n            {product.effects && product.effects.length > 0 && (\n              <div>\n                <h3 className=\"font-semibold mb-2\">Effects</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {product.effects.map((effect, i) => (\n                    <Badge key={i} variant=\"outline\">\n                      {effect}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <Button\n              size=\"lg\"\n              className=\"w-full\"\n              disabled={product.inventoryCount === 0}\n            >\n              <ShoppingBag className=\"h-5 w-5 mr-2\" />\n              {product.inventoryCount === 0 ? \"Out of Stock\" : \"Add to Cart\"}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\AgeGate.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":47,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking &quot;I am 21+\", you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking &ldquo;I am 21+\", you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking &#34;I am 21+\", you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking &rdquo;I am 21+\", you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":47,"column":36,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking \"I am 21+&quot;, you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking \"I am 21+&ldquo;, you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking \"I am 21+&#34;, you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1829,1973],"text":"\r\n              By clicking \"I am 21+&rdquo;, you verify that you are of legal age to view and purchase cannabis products in California.\r\n            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { ShieldCheck, Ban } from \"lucide-react\";\r\n\r\nexport function AgeGate() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isVerified = localStorage.getItem(\"age-verified\");\r\n    if (!isVerified) {\r\n      setIsOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleVerify = () => {\r\n    localStorage.setItem(\"age-verified\", \"true\");\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleReject = () => {\r\n    window.location.href = \"https://google.com\";\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={() => {}}>\r\n      <DialogContent className=\"sm:max-w-md bg-background/95 backdrop-blur-xl border-primary/20 shadow-2xl shadow-primary/10\" onPointerDownOutside={(e) => e.preventDefault()} onEscapeKeyDown={(e) => e.preventDefault()}>\r\n        <div className=\"absolute inset-0 z-0 opacity-20 bg-[url('/images/age-gate-bg.jpg')] bg-cover bg-center rounded-lg pointer-events-none\" />\r\n        \r\n        <DialogHeader className=\"relative z-10 text-center space-y-4 pt-6\">\r\n          <div className=\"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center border border-primary/20 mb-2\">\r\n            <ShieldCheck className=\"w-8 h-8 text-primary animate-pulse\" />\r\n          </div>\r\n          <DialogTitle className=\"text-3xl font-serif font-bold tracking-tight text-foreground\">\r\n            Age Verification\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-muted-foreground text-lg\">\r\n            You must be 21+ years of age to enter this site.\r\n            <br />\r\n            <span className=\"text-sm mt-2 block opacity-80\">\r\n              By clicking \"I am 21+\", you verify that you are of legal age to view and purchase cannabis products in California.\r\n            </span>\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        \r\n        <div className=\"relative z-10 flex flex-col gap-3 py-6\">\r\n          <Button \r\n            size=\"lg\" \r\n            className=\"w-full text-lg font-semibold bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20 transition-all duration-300 hover:scale-[1.02]\"\r\n            onClick={handleVerify}\r\n          >\r\n            I am 21+\r\n          </Button>\r\n          <Button \r\n            variant=\"ghost\" \r\n            size=\"lg\"\r\n            className=\"w-full text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-colors\"\r\n            onClick={handleReject}\r\n          >\r\n            <Ban className=\"w-4 h-4 mr-2\" />\r\n            I am under 21\r\n          </Button>\r\n        </div>\r\n        \r\n        <div className=\"relative z-10 text-center text-xs text-muted-foreground/50 pb-2\">\r\n          License # C9-0000000-LIC â€¢ San Fernando Valley, CA\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\DeliveryRequestModal.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":276,"column":21,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10266,10358],"text":"\r\n                  We&apos;ll call you to confirm your order and delivery time\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10266,10358],"text":"\r\n                  We&lsquo;ll call you to confirm your order and delivery time\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10266,10358],"text":"\r\n                  We&#39;ll call you to confirm your order and delivery time\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10266,10358],"text":"\r\n                  We&rsquo;ll call you to confirm your order and delivery time\r\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":306,"column":26,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11612,11651],"text":"1. We&apos;ll call you to confirm your order"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11612,11651],"text":"1. We&lsquo;ll call you to confirm your order"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11612,11651],"text":"1. We&#39;ll call you to confirm your order"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11612,11651],"text":"1. We&rsquo;ll call you to confirm your order"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":308,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11736,11783],"text":"3. You&apos;ll receive delivery within 45-60 minutes"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11736,11783],"text":"3. You&lsquo;ll receive delivery within 45-60 minutes"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11736,11783],"text":"3. You&#39;ll receive delivery within 45-60 minutes"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11736,11783],"text":"3. You&rsquo;ll receive delivery within 45-60 minutes"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { ordersApi, Product } from \"@/lib/api\";\r\nimport { Loader2, CheckCircle2, AlertCircle } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface DeliveryRequestModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  product: Product;\r\n}\r\n\r\nexport function DeliveryRequestModal({ open, onOpenChange, product }: DeliveryRequestModalProps) {\r\n  const [step, setStep] = useState<\"form\" | \"validating\" | \"success\">(\"form\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [orderNumber, setOrderNumber] = useState(\"\");\r\n  \r\n  const [formData, setFormData] = useState({\r\n    customerName: \"\",\r\n    customerPhone: \"\",\r\n    customerEmail: \"\",\r\n    address1: \"\",\r\n    address2: \"\",\r\n    city: \"\",\r\n    zip: \"\",\r\n    notes: \"\",\r\n    quantity: 1,\r\n    paymentMethod: \"cash\" as \"cash\" | \"debit\",\r\n  });\r\n\r\n  const [zipInfo, setZipInfo] = useState<{\r\n    available: boolean;\r\n    regionName?: string;\r\n    deliveryFeeCents?: number;\r\n    minimumOrderCents?: number;\r\n  } | null>(null);\r\n\r\n  const handleZipCheck = async (zip: string) => {\r\n    if (zip.length === 5) {\r\n      try {\r\n        const result = await ordersApi.checkZip(zip);\r\n        setZipInfo(result);\r\n        if (!result.available) {\r\n          toast.error(\"Sorry, we don't deliver to this ZIP code yet\");\r\n        } else {\r\n          toast.success(`Great! We deliver to ${result.regionName}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"ZIP check failed:\", error);\r\n        toast.error(\"Failed to validate ZIP code\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!zipInfo?.available) {\r\n      toast.error(\"Please enter a valid delivery ZIP code\");\r\n      return;\r\n    }\r\n\r\n    const subtotal = product.priceCents * formData.quantity;\r\n    if (zipInfo.minimumOrderCents && subtotal < zipInfo.minimumOrderCents) {\r\n      toast.error(`Minimum order for ${zipInfo.regionName} is $${(zipInfo.minimumOrderCents / 100).toFixed(2)}`);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setStep(\"validating\");\r\n\r\n    try {\r\n      const result = await ordersApi.create({\r\n        customerName: formData.customerName,\r\n        customerPhone: formData.customerPhone,\r\n        customerEmail: formData.customerEmail || undefined,\r\n        address1: formData.address1,\r\n        address2: formData.address2 || undefined,\r\n        city: formData.city,\r\n        zip: formData.zip,\r\n        notes: formData.notes || undefined,\r\n        items: [\r\n          {\r\n            productId: product.id,\r\n            quantity: formData.quantity,\r\n          },\r\n        ],\r\n        paymentMethod: formData.paymentMethod,\r\n      });\r\n\r\n      setOrderNumber(result.orderNumber);\r\n      setStep(\"success\");\r\n      toast.success(\"Delivery request submitted!\");\r\n    } catch (error) {\r\n      console.error(\"Order creation failed:\", error);\r\n      toast.error(\"Failed to submit delivery request\");\r\n      setStep(\"form\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setStep(\"form\");\r\n    setFormData({\r\n      customerName: \"\",\r\n      customerPhone: \"\",\r\n      customerEmail: \"\",\r\n      address1: \"\",\r\n      address2: \"\",\r\n      city: \"\",\r\n      zip: \"\",\r\n      notes: \"\",\r\n      quantity: 1,\r\n      paymentMethod: \"cash\",\r\n    });\r\n    setZipInfo(null);\r\n    setOrderNumber(\"\");\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleClose}>\r\n      <DialogContent className=\"max-w-lg max-h-[90vh] overflow-y-auto\">\r\n        {step === \"form\" && (\r\n          <>\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-2xl font-serif\">Request Delivery</DialogTitle>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {product.name} - ${(product.priceCents / 100).toFixed(2)}\r\n              </p>\r\n            </DialogHeader>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"name\">Full Name *</Label>\r\n                  <Input\r\n                    id=\"name\"\r\n                    required\r\n                    value={formData.customerName}\r\n                    onChange={(e) => setFormData({ ...formData, customerName: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"phone\">Phone *</Label>\r\n                  <Input\r\n                    id=\"phone\"\r\n                    type=\"tel\"\r\n                    required\r\n                    placeholder=\"(818) 555-0100\"\r\n                    value={formData.customerPhone}\r\n                    onChange={(e) => setFormData({ ...formData, customerPhone: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\">Email (Optional)</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.customerEmail}\r\n                  onChange={(e) => setFormData({ ...formData, customerEmail: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"address1\">Street Address *</Label>\r\n                <Input\r\n                  id=\"address1\"\r\n                  required\r\n                  placeholder=\"123 Main St\"\r\n                  value={formData.address1}\r\n                  onChange={(e) => setFormData({ ...formData, address1: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"address2\">Apt, Suite, etc. (Optional)</Label>\r\n                <Input\r\n                  id=\"address2\"\r\n                  placeholder=\"Apt 4B\"\r\n                  value={formData.address2}\r\n                  onChange={(e) => setFormData({ ...formData, address2: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"city\">City *</Label>\r\n                  <Input\r\n                    id=\"city\"\r\n                    required\r\n                    value={formData.city}\r\n                    onChange={(e) => setFormData({ ...formData, city: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"zip\">ZIP Code *</Label>\r\n                  <Input\r\n                    id=\"zip\"\r\n                    required\r\n                    maxLength={5}\r\n                    placeholder=\"91364\"\r\n                    value={formData.zip}\r\n                    onChange={(e) => {\r\n                      setFormData({ ...formData, zip: e.target.value });\r\n                      handleZipCheck(e.target.value);\r\n                    }}\r\n                  />\r\n                  {zipInfo && zipInfo.available && (\r\n                    <p className=\"text-xs text-green-600 flex items-center gap-1\">\r\n                      <CheckCircle2 className=\"h-3 w-3\" />\r\n                      Delivers to {zipInfo.regionName} (+${(zipInfo.deliveryFeeCents! / 100).toFixed(2)} fee)\r\n                    </p>\r\n                  )}\r\n                  {zipInfo && !zipInfo.available && (\r\n                    <p className=\"text-xs text-destructive flex items-center gap-1\">\r\n                      <AlertCircle className=\"h-3 w-3\" />\r\n                      Not available in this area\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"quantity\">Quantity</Label>\r\n                <Input\r\n                  id=\"quantity\"\r\n                  type=\"number\"\r\n                  min={1}\r\n                  max={10}\r\n                  value={formData.quantity}\r\n                  onChange={(e) => setFormData({ ...formData, quantity: parseInt(e.target.value) })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"notes\">Delivery Notes (Optional)</Label>\r\n                <Textarea\r\n                  id=\"notes\"\r\n                  placeholder=\"Gate code, special instructions, etc.\"\r\n                  value={formData.notes}\r\n                  onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Payment Method</Label>\r\n                <RadioGroup\r\n                  value={formData.paymentMethod}\r\n                  onValueChange={(value) => setFormData({ ...formData, paymentMethod: value as \"cash\" | \"debit\" })}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <RadioGroupItem value=\"cash\" id=\"cash\" />\r\n                    <Label htmlFor=\"cash\" className=\"font-normal cursor-pointer\">Cash on Delivery</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <RadioGroupItem value=\"debit\" id=\"debit\" />\r\n                    <Label htmlFor=\"debit\" className=\"font-normal cursor-pointer\">Debit on Delivery</Label>\r\n                  </div>\r\n                </RadioGroup>\r\n              </div>\r\n\r\n              <div className=\"pt-4 space-y-2\">\r\n                <Button type=\"submit\" className=\"w-full\" disabled={loading || !zipInfo?.available}>\r\n                  {loading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"Submit Request\"}\r\n                </Button>\r\n                <p className=\"text-xs text-center text-muted-foreground\">\r\n                  We'll call you to confirm your order and delivery time\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </>\r\n        )}\r\n\r\n        {step === \"validating\" && (\r\n          <div className=\"py-12 text-center space-y-4\">\r\n            <Loader2 className=\"h-12 w-12 animate-spin mx-auto text-primary\" />\r\n            <p className=\"text-lg font-medium\">Processing your request...</p>\r\n          </div>\r\n        )}\r\n\r\n        {step === \"success\" && (\r\n          <div className=\"py-8 text-center space-y-6\">\r\n            <div className=\"flex justify-center\">\r\n              <div className=\"rounded-full bg-green-500/10 p-4\">\r\n                <CheckCircle2 className=\"h-16 w-16 text-green-500\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-2xl font-serif font-bold\">Request Received!</h3>\r\n              <p className=\"text-muted-foreground\">\r\n                Your order number is <span className=\"font-mono font-bold text-foreground\">{orderNumber}</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-secondary/30 rounded-lg p-4 space-y-2 text-sm\">\r\n              <p className=\"font-medium\">What happens next?</p>\r\n              <ol className=\"text-left space-y-1 text-muted-foreground\">\r\n                <li>1. We'll call you to confirm your order</li>\r\n                <li>2. Your driver will be assigned</li>\r\n                <li>3. You'll receive delivery within 45-60 minutes</li>\r\n                <li>4. Driver will verify your ID and collect payment</li>\r\n              </ol>\r\n            </div>\r\n            <Button onClick={handleClose} className=\"w-full\">\r\n              Done\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\FirstTimeModal.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":73,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3193,3249],"text":"\r\n            No thanks, I&apos;ll pay full price\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3193,3249],"text":"\r\n            No thanks, I&lsquo;ll pay full price\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3193,3249],"text":"\r\n            No thanks, I&#39;ll pay full price\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3193,3249],"text":"\r\n            No thanks, I&rsquo;ll pay full price\r\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Gift, PartyPopper } from \"lucide-react\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nexport function FirstTimeModal() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if user has seen the modal before\r\n    const hasSeenModal = localStorage.getItem(\"hasSeenFirstTimeModal\");\r\n    \r\n    // Show modal after a short delay if they haven't seen it\r\n    if (!hasSeenModal) {\r\n      const timer = setTimeout(() => {\r\n        setIsOpen(true);\r\n      }, 3000); // Show after 3 seconds\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    setIsOpen(false);\r\n    localStorage.setItem(\"hasSeenFirstTimeModal\", \"true\");\r\n  };\r\n\r\n  const handleClaim = () => {\r\n    // Logic to apply discount code or redirect to signup\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogContent className=\"sm:max-w-md border-primary/20 bg-card/95 backdrop-blur-xl\">\r\n        <DialogHeader className=\"text-center items-center space-y-4\">\r\n          <div className=\"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-2 animate-bounce\">\r\n            <Gift className=\"h-8 w-8 text-primary\" />\r\n          </div>\r\n          <DialogTitle className=\"text-3xl font-serif font-bold\">First Time?</DialogTitle>\r\n          <DialogDescription className=\"text-lg text-foreground/90\">\r\n            Unlock your <span className=\"font-bold text-primary\">Welcome Goody Bag</span> with your first order!\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        \r\n        <div className=\"space-y-4 py-4\">\r\n          <div className=\"bg-secondary/30 p-4 rounded-lg border border-border/50 space-y-2\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <PartyPopper className=\"h-5 w-5 text-pink-400\" />\r\n              <span className=\"font-medium\">Free Premium Pre-roll</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <PartyPopper className=\"h-5 w-5 text-purple-400\" />\r\n              <span className=\"font-medium\">20% Off Entire Cart</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <PartyPopper className=\"h-5 w-5 text-yellow-400\" />\r\n              <span className=\"font-medium\">Free Delivery</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-xs text-center text-muted-foreground\">Enter your email to unlock rewards</p>\r\n            <Input placeholder=\"name@example.com\" className=\"text-center\" />\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex-col sm:flex-col gap-2\">\r\n          <Button size=\"lg\" className=\"w-full text-lg font-bold\" onClick={handleClaim}>\r\n            Claim My Goody Bag\r\n          </Button>\r\n          <Button variant=\"ghost\" size=\"sm\" className=\"w-full text-muted-foreground\" onClick={handleClose}>\r\n            No thanks, I'll pay full price\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\ManusDialog.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":58,"column":15,"nodeType":"JSXOpeningElement","endLine":62,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\ninterface ManusDialogProps {\r\n  title?: string;\r\n  logo?: string;\r\n  open?: boolean;\r\n  onLogin: () => void;\r\n  onOpenChange?: (open: boolean) => void;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport function ManusDialog({\r\n  title,\r\n  logo,\r\n  open = false,\r\n  onLogin,\r\n  onOpenChange,\r\n  onClose,\r\n}: ManusDialogProps) {\r\n  const [internalOpen, setInternalOpen] = useState(open);\r\n\r\n  useEffect(() => {\r\n    if (!onOpenChange) {\r\n      setInternalOpen(open);\r\n    }\r\n  }, [open, onOpenChange]);\r\n\r\n  const handleOpenChange = (nextOpen: boolean) => {\r\n    if (onOpenChange) {\r\n      onOpenChange(nextOpen);\r\n    } else {\r\n      setInternalOpen(nextOpen);\r\n    }\r\n\r\n    if (!nextOpen) {\r\n      onClose?.();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={onOpenChange ? open : internalOpen}\r\n      onOpenChange={handleOpenChange}\r\n    >\r\n      <DialogContent className=\"py-5 bg-[#f8f8f7] rounded-[20px] w-[400px] shadow-[0px_4px_11px_0px_rgba(0,0,0,0.08)] border border-[rgba(0,0,0,0.08)] backdrop-blur-2xl p-0 gap-0 text-center\">\r\n        <div className=\"flex flex-col items-center gap-2 p-5 pt-12\">\r\n          {logo ? (\r\n            <div className=\"w-16 h-16 bg-white rounded-xl border border-[rgba(0,0,0,0.08)] flex items-center justify-center\">\r\n              <img\r\n                src={logo}\r\n                alt=\"Dialog graphic\"\r\n                className=\"w-10 h-10 rounded-md\"\r\n              />\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Title and subtitle */}\r\n          {title ? (\r\n            <DialogTitle className=\"text-xl font-semibold text-[#34322d] leading-[26px] tracking-[-0.44px]\">\r\n              {title}\r\n            </DialogTitle>\r\n          ) : null}\r\n          <DialogDescription className=\"text-sm text-[#858481] leading-5 tracking-[-0.154px]\">\r\n            Please login with Manus to continue\r\n          </DialogDescription>\r\n        </div>\r\n\r\n        <DialogFooter className=\"px-5 py-5\">\r\n          {/* Login button */}\r\n          <Button\r\n            onClick={onLogin}\r\n            className=\"w-full h-10 bg-[#1a1a19] hover:bg-[#1a1a19]/90 text-white rounded-[10px] text-sm font-medium leading-5 tracking-[-0.154px]\"\r\n          >\r\n            Login with Manus\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\ProductCard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":21,"column":11,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ShoppingBag, Star } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { Product } from \"@/lib/api\";\nimport { DeliveryRequestModal } from \"@/components/DeliveryRequestModal\";\n\nexport function ProductCard({ product }: { product: Product }) {\n  const [showDeliveryModal, setShowDeliveryModal] = useState(false);\n  const price = (product.priceCents / 100).toFixed(2);\n  const imageUrl = product.imageUrl || \"/images/flower-category.jpg\";\n  return (\n    <>\n    <Link href={`/product/${product.id}`}>\n      <div className=\"group relative bg-card rounded-xl overflow-hidden border border-border/50 hover:border-primary/50 transition-all duration-500 hover:shadow-2xl hover:shadow-primary/5 cursor-pointer\">\n        {/* Image Container */}\n        <div className=\"aspect-square overflow-hidden relative bg-secondary/20\">\n          <img \n            src={imageUrl} \n            alt={product.name}\n            className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n          />\n          \n          {/* Overlay Gradient */}\n          <div className=\"absolute inset-0 bg-gradient-to-t from-background/90 via-transparent to-transparent opacity-60\" />\n          \n          {/* Quick Add Button (Visible on Hover) */}\n          {product.inventoryCount > 0 && (\n            <div className=\"absolute bottom-4 right-4 translate-y-10 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 z-10\">\n              <Button \n                size=\"icon\" \n                className=\"rounded-full h-10 w-10 shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  setShowDeliveryModal(true);\n                }}\n              >\n                <ShoppingBag className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          )}\n\n          {/* Badges */}\n          <div className=\"absolute top-3 left-3 flex flex-col gap-2\">\n            {product.strainType && (\n              <Badge variant=\"secondary\" className=\"bg-background/80 backdrop-blur-sm text-xs font-medium border-border/50\">\n                {product.strainType.toUpperCase()}\n              </Badge>\n            )}\n            {product.inventoryCount === 0 && (\n              <Badge variant=\"destructive\" className=\"bg-destructive/90 backdrop-blur-sm text-xs font-medium\">\n                Out of Stock\n              </Badge>\n            )}\n            {product.inventoryCount > 0 && product.inventoryCount < 5 && (\n              <Badge variant=\"secondary\" className=\"bg-yellow-500/80 text-yellow-950 backdrop-blur-sm text-xs font-medium\">\n                Low Stock\n              </Badge>\n            )}\n            {product.inventoryCount >= 5 && (\n              <Badge variant=\"secondary\" className=\"bg-green-500/80 text-green-950 backdrop-blur-sm text-xs font-medium\">\n                In Stock\n              </Badge>\n            )}\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-5 space-y-3\">\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <p className=\"text-xs font-medium text-primary uppercase tracking-wider mb-1\">{product.brand || \"Premium\"}</p>\n              <h3 className=\"font-serif font-bold text-lg leading-tight group-hover:text-primary transition-colors line-clamp-1\">\n                {product.name}\n              </h3>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n            {product.thcPercentage && (\n              <div className=\"flex items-center gap-1 bg-secondary/50 px-2 py-1 rounded-md\">\n                <span className=\"font-semibold text-foreground\">{product.thcPercentage}%</span> THC\n              </div>\n            )}\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"h-3 w-3 fill-yellow-500 text-yellow-500\" />\n              <span className=\"font-medium text-foreground\">4.7</span>\n            </div>\n          </div>\n\n          <div className=\"pt-2 flex items-center justify-between border-t border-border/50 mt-2\">\n            <span className=\"text-lg font-bold text-foreground\">${price}</span>\n            <span className=\"text-xs text-muted-foreground\">{product.weight || \"3.5g\"}</span>\n          </div>\n        </div>\n      </div>\n    </Link>\n    <DeliveryRequestModal \n      open={showDeliveryModal} \n      onOpenChange={setShowDeliveryModal} \n      product={product} \n    />\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\ProductFormDialog.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":201,"column":19,"nodeType":"JSXOpeningElement","endLine":201,"endColumn":98}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { toast } from \"sonner\";\r\nimport { Upload, X } from \"lucide-react\";\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  description: string | null;\r\n  priceCents: number;\r\n  imageUrl: string | null;\r\n  categoryId: number;\r\n  inventoryCount: number;\r\n  thcPercentage: string | null;\r\n  cbdPercentage: string | null;\r\n  strainType: \"indica\" | \"sativa\" | \"hybrid\" | null;\r\n  brand: string | null;\r\n  weight: string | null;\r\n  effects: string | null;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface Category {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface ProductFormDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  product: Product | null;\r\n  categories: Category[];\r\n  onSaved: () => void;\r\n}\r\n\r\nexport function ProductFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  product,\r\n  categories,\r\n  onSaved,\r\n}: ProductFormDialogProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    priceCents: 0,\r\n    categoryId: \"\",\r\n    inventoryCount: 0,\r\n    thcPercentage: \"\",\r\n    cbdPercentage: \"\",\r\n    strainType: \"\",\r\n    brand: \"\",\r\n    weight: \"3.5g\",\r\n    effects: \"\",\r\n    isActive: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (product) {\r\n      setFormData({\r\n        name: product.name,\r\n        description: product.description || \"\",\r\n        priceCents: product.priceCents,\r\n        categoryId: product.categoryId.toString(),\r\n        inventoryCount: product.inventoryCount,\r\n        thcPercentage: product.thcPercentage || \"\",\r\n        cbdPercentage: product.cbdPercentage || \"\",\r\n        strainType: product.strainType || \"\",\r\n        brand: product.brand || \"\",\r\n        weight: product.weight || \"3.5g\",\r\n        effects: product.effects || \"\",\r\n        isActive: product.isActive,\r\n      });\r\n      setImagePreview(product.imageUrl);\r\n    } else {\r\n      // Reset form for new product\r\n      setFormData({\r\n        name: \"\",\r\n        description: \"\",\r\n        priceCents: 0,\r\n        categoryId: categories[0]?.id.toString() || \"\",\r\n        inventoryCount: 0,\r\n        thcPercentage: \"\",\r\n        cbdPercentage: \"\",\r\n        strainType: \"\",\r\n        brand: \"\",\r\n        weight: \"3.5g\",\r\n        effects: \"\",\r\n        isActive: true,\r\n      });\r\n      setImagePreview(null);\r\n      setImageFile(null);\r\n    }\r\n  }, [product, categories, open]);\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      let imageUrl = product?.imageUrl || null;\r\n\r\n      // Upload image if a new one was selected\r\n      if (imageFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", imageFile);\r\n\r\n        const uploadResponse = await fetch(\"/api/admin/products/upload-image\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        if (!uploadResponse.ok) throw new Error(\"Failed to upload image\");\r\n\r\n        const uploadData = await uploadResponse.json();\r\n        imageUrl = uploadData.url;\r\n      }\r\n\r\n      // Prepare product data\r\n      const productData = {\r\n        name: formData.name,\r\n        description: formData.description || null,\r\n        priceCents: Math.round(formData.priceCents),\r\n        imageUrl,\r\n        categoryId: parseInt(formData.categoryId),\r\n        inventoryCount: formData.inventoryCount,\r\n        thcPercentage: formData.thcPercentage || null,\r\n        cbdPercentage: formData.cbdPercentage || null,\r\n        strainType: formData.strainType || null,\r\n        brand: formData.brand || null,\r\n        weight: formData.weight || null,\r\n        effects: formData.effects || null,\r\n        isActive: formData.isActive,\r\n      };\r\n\r\n      // Create or update product\r\n      const url = product\r\n        ? `/api/admin/products/${product.id}`\r\n        : \"/api/admin/products\";\r\n      const method = product ? \"PATCH\" : \"POST\";\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(productData),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Failed to save product\");\r\n\r\n      toast.success(product ? \"Product updated successfully\" : \"Product created successfully\");\r\n      onSaved();\r\n    } catch (error) {\r\n      console.error(\"Failed to save product:\", error);\r\n      toast.error(\"Failed to save product\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{product ? \"Edit Product\" : \"Add New Product\"}</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {/* Image Upload */}\r\n          <div className=\"space-y-2\">\r\n            <Label>Product Image</Label>\r\n            <div className=\"flex items-center gap-4\">\r\n              {imagePreview && (\r\n                <div className=\"relative w-32 h-32 rounded-lg overflow-hidden bg-secondary/20\">\r\n                  <img src={imagePreview} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setImagePreview(null);\r\n                      setImageFile(null);\r\n                    }}\r\n                    className=\"absolute top-1 right-1 p-1 bg-background/80 rounded-full hover:bg-background\"\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <div>\r\n                <Input\r\n                  id=\"image\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageChange}\r\n                  className=\"hidden\"\r\n                />\r\n                <Label htmlFor=\"image\" className=\"cursor-pointer\">\r\n                  <div className=\"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-secondary/50 transition-colors\">\r\n                    <Upload className=\"h-4 w-4\" />\r\n                    <span>{imagePreview ? \"Change Image\" : \"Upload Image\"}</span>\r\n                  </div>\r\n                </Label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Basic Info */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"col-span-2 space-y-2\">\r\n              <Label htmlFor=\"name\">Product Name *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-span-2 space-y-2\">\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={formData.description}\r\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                rows={3}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"price\">Price ($) *</Label>\r\n              <Input\r\n                id=\"price\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={(formData.priceCents / 100).toFixed(2)}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, priceCents: Math.round(parseFloat(e.target.value) * 100) })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"inventory\">Inventory Count *</Label>\r\n              <Input\r\n                id=\"inventory\"\r\n                type=\"number\"\r\n                value={formData.inventoryCount}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, inventoryCount: parseInt(e.target.value) || 0 })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"category\">Category *</Label>\r\n              <Select\r\n                value={formData.categoryId}\r\n                onValueChange={(value) => setFormData({ ...formData, categoryId: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {categories.map((cat) => (\r\n                    <SelectItem key={cat.id} value={cat.id.toString()}>\r\n                      {cat.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"strainType\">Strain Type</Label>\r\n              <Select\r\n                value={formData.strainType}\r\n                onValueChange={(value) => setFormData({ ...formData, strainType: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select strain type\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"indica\">Indica</SelectItem>\r\n                  <SelectItem value=\"sativa\">Sativa</SelectItem>\r\n                  <SelectItem value=\"hybrid\">Hybrid</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"thc\">THC %</Label>\r\n              <Input\r\n                id=\"thc\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.thcPercentage}\r\n                onChange={(e) => setFormData({ ...formData, thcPercentage: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"cbd\">CBD %</Label>\r\n              <Input\r\n                id=\"cbd\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.cbdPercentage}\r\n                onChange={(e) => setFormData({ ...formData, cbdPercentage: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"brand\">Brand</Label>\r\n              <Input\r\n                id=\"brand\"\r\n                value={formData.brand}\r\n                onChange={(e) => setFormData({ ...formData, brand: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"weight\">Weight</Label>\r\n              <Input\r\n                id=\"weight\"\r\n                value={formData.weight}\r\n                onChange={(e) => setFormData({ ...formData, weight: e.target.value })}\r\n                placeholder=\"e.g., 3.5g\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-span-2 space-y-2\">\r\n              <Label htmlFor=\"effects\">Effects (comma-separated)</Label>\r\n              <Input\r\n                id=\"effects\"\r\n                value={formData.effects}\r\n                onChange={(e) => setFormData({ ...formData, effects: e.target.value })}\r\n                placeholder=\"e.g., Relaxed, Happy, Euphoric\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={loading}>\r\n              {loading ? \"Saving...\" : product ? \"Update Product\" : \"Create Product\"}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\ProductManager.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":146,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click &quot;Add Product\" to create your first product.\r\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click &ldquo;Add Product\" to create your first product.\r\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click &#34;Add Product\" to create your first product.\r\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click &rdquo;Add Product\" to create your first product.\r\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":146,"column":54,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click \"Add Product&quot; to create your first product.\r\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click \"Add Product&ldquo; to create your first product.\r\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click \"Add Product&#34; to create your first product.\r\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4568,4670],"text":"\r\n                No products found. Click \"Add Product&rdquo; to create your first product.\r\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":157,"column":23,"nodeType":"JSXOpeningElement","endLine":161,"endColumn":25},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":246,"column":47,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8663,8712],"text":"\r\n              Are you sure you want to delete &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8663,8712],"text":"\r\n              Are you sure you want to delete &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8663,8712],"text":"\r\n              Are you sure you want to delete &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8663,8712],"text":"\r\n              Are you sure you want to delete &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":246,"column":71,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8735,8781],"text":"&quot;? This action cannot be undone.\r\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8735,8781],"text":"&ldquo;? This action cannot be undone.\r\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8735,8781],"text":"&#34;? This action cannot be undone.\r\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8735,8781],"text":"&rdquo;? This action cannot be undone.\r\n            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { toast } from \"sonner\";\r\nimport { Package, Plus, Pencil, Trash2, RefreshCw } from \"lucide-react\";\r\nimport { ProductFormDialog } from \"@/components/ProductFormDialog\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  description: string | null;\r\n  priceCents: number;\r\n  imageUrl: string | null;\r\n  categoryId: number;\r\n  categoryName?: string;\r\n  inventoryCount: number;\r\n  thcPercentage: string | null;\r\n  cbdPercentage: string | null;\r\n  strainType: \"indica\" | \"sativa\" | \"hybrid\" | null;\r\n  brand: string | null;\r\n  weight: string | null;\r\n  effects: string | null;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface Category {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\nexport function ProductManager() {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddDialog, setShowAddDialog] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\r\n  const [deletingProduct, setDeletingProduct] = useState<Product | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/admin/products\");\r\n      const data = await response.json();\r\n      setProducts(data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch products:\", error);\r\n      toast.error(\"Failed to load products\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/products/categories/all\");\r\n      const data = await response.json();\r\n      setCategories(data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch categories:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!deletingProduct) return;\r\n\r\n    try {\r\n      const response = await fetch(`/api/admin/products/${deletingProduct.id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Failed to delete product\");\r\n\r\n      setProducts(prev => prev.filter(p => p.id !== deletingProduct.id));\r\n      toast.success(\"Product deleted successfully\");\r\n      setDeletingProduct(null);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete product:\", error);\r\n      toast.error(\"Failed to delete product\");\r\n    }\r\n  };\r\n\r\n  const handleProductSaved = () => {\r\n    fetchProducts();\r\n    setShowAddDialog(false);\r\n    setEditingProduct(null);\r\n  };\r\n\r\n  const getStockBadge = (count: number) => {\r\n    if (count === 0) {\r\n      return <Badge variant=\"destructive\">Out of Stock</Badge>;\r\n    } else if (count <= 5) {\r\n      return <Badge variant=\"secondary\" className=\"bg-yellow-500/10 text-yellow-500 border-yellow-500/20\">Low Stock</Badge>;\r\n    } else {\r\n      return <Badge variant=\"secondary\" className=\"bg-green-500/10 text-green-500 border-green-500/20\">In Stock</Badge>;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"p-8 text-center\">\r\n          <p className=\"text-muted-foreground\">Loading products...</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Package className=\"h-5 w-5\" />\r\n            Product Management\r\n          </CardTitle>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\" onClick={fetchProducts} className=\"gap-2\">\r\n              <RefreshCw className=\"h-4 w-4\" />\r\n              Refresh\r\n            </Button>\r\n            <Button size=\"sm\" onClick={() => setShowAddDialog(true)} className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Add Product\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            {products.length === 0 ? (\r\n              <div className=\"text-center py-12 text-muted-foreground\">\r\n                No products found. Click \"Add Product\" to create your first product.\r\n              </div>\r\n            ) : (\r\n              products.map((product) => (\r\n                <div\r\n                  key={product.id}\r\n                  className=\"flex items-center gap-4 p-4 border rounded-lg bg-card\"\r\n                >\r\n                  {/* Product Image */}\r\n                  <div className=\"w-20 h-20 rounded-lg overflow-hidden bg-secondary/20 flex-shrink-0\">\r\n                    {product.imageUrl ? (\r\n                      <img\r\n                        src={product.imageUrl}\r\n                        alt={product.name}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center\">\r\n                        <Package className=\"h-8 w-8 text-muted-foreground\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Product Info */}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center gap-3 mb-1\">\r\n                      <h4 className=\"font-semibold truncate\">{product.name}</h4>\r\n                      {getStockBadge(product.inventoryCount)}\r\n                      {!product.isActive && (\r\n                        <Badge variant=\"outline\" className=\"text-muted-foreground\">\r\n                          Inactive\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\r\n                      <span>${(product.priceCents / 100).toFixed(2)}</span>\r\n                      <span>â€¢</span>\r\n                      <span>{product.categoryName || \"Uncategorized\"}</span>\r\n                      {product.strainType && (\r\n                        <>\r\n                          <span>â€¢</span>\r\n                          <span className=\"capitalize\">{product.strainType}</span>\r\n                        </>\r\n                      )}\r\n                      {product.thcPercentage && (\r\n                        <>\r\n                          <span>â€¢</span>\r\n                          <span>{product.thcPercentage}% THC</span>\r\n                        </>\r\n                      )}\r\n                      <span>â€¢</span>\r\n                      <span>Stock: {product.inventoryCount}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  <div className=\"flex gap-2 flex-shrink-0\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      onClick={() => setEditingProduct(product)}\r\n                    >\r\n                      <Pencil className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      onClick={() => setDeletingProduct(product)}\r\n                      className=\"text-destructive hover:text-destructive\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Add/Edit Product Dialog */}\r\n      <ProductFormDialog\r\n        open={showAddDialog || editingProduct !== null}\r\n        onOpenChange={(open) => {\r\n          if (!open) {\r\n            setShowAddDialog(false);\r\n            setEditingProduct(null);\r\n          }\r\n        }}\r\n        product={editingProduct}\r\n        categories={categories}\r\n        onSaved={handleProductSaved}\r\n      />\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <AlertDialog open={deletingProduct !== null} onOpenChange={() => setDeletingProduct(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Product</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Are you sure you want to delete \"{deletingProduct?.name}\"? This action cannot be undone.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\">\r\n              Delete\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\mmerc\\Aurum\\Aurum\\components\\shop\\ProductCardList.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":24,"column":21,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Star, Heart } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { Product } from \"@/lib/api\";\r\n\r\nexport interface ProductWithCategory extends Product {\r\n    category?: { name: string } | null;\r\n}\r\n\r\nexport function ProductCardList({ product }: { product: ProductWithCategory }) {\r\n    const price = (product.priceCents / 100).toFixed(2);\r\n    // Default image if missing\r\n    const imageUrl = product.imageUrl || \"/images/flower-category.jpg\";\r\n\r\n    return (\r\n        <Link href={`/product/${product.id}`} className=\"block group\">\r\n            <div className=\"flex bg-card rounded-lg border border-border/40 hover:border-primary/50 transition-all duration-300 overflow-hidden h-40 w-full hover:shadow-md\">\r\n                {/* Left: Image Section */}\r\n                <div className=\"relative w-40 h-40 flex-shrink-0 bg-secondary/10\">\r\n                    <img\r\n                        src={imageUrl}\r\n                        alt={product.name}\r\n                        className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105\"\r\n                    />\r\n                    {/* Favorite Heart (Weedmaps style) */}\r\n                    <button\r\n                        className=\"absolute top-2 right-2 p-1.5 rounded-full bg-white/80 hover:bg-white text-gray-400 hover:text-red-500 transition-colors shadow-sm\"\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            // Todo: Toggle favorite\r\n                        }}\r\n                    >\r\n                        <Heart className=\"h-4 w-4\" />\r\n                    </button>\r\n\r\n                    {/* Out of Stock Overlay */}\r\n                    {product.inventoryCount === 0 && (\r\n                        <div className=\"absolute inset-0 bg-background/60 backdrop-blur-[1px] flex items-center justify-center\">\r\n                            <Badge variant=\"destructive\" className=\"font-bold\">Sold Out</Badge>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Middle: Info Section */}\r\n                <div className=\"flex flex-col flex-grow p-4 justify-between\">\r\n                    <div className=\"space-y-1\">\r\n                        {/* Category / Strain Type Tag */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-[10px] font-bold tracking-widest text-muted-foreground uppercase\">\r\n                                {product.category?.name || \"FLOWER\"}\r\n                            </span>\r\n                            {product.strainType && (\r\n                                <span className=\"text-[10px] font-bold tracking-widest text-[#00CDBC]/80 uppercase px-1.5 py-0.5 rounded bg-[#00CDBC]/10\">\r\n                                    {product.strainType}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Classification / Name */}\r\n                        <h3 className=\"font-bold text-base md:text-lg text-foreground leading-tight group-hover:text-[#00CDBC] transition-colors line-clamp-2\">\r\n                            {product.name}\r\n                        </h3>\r\n\r\n                        {/* Brand */}\r\n                        <p className=\"text-sm text-muted-foreground font-medium\">\r\n                            {product.brand || \"House Brand\"}\r\n                        </p>\r\n\r\n                        {/* Rating */}\r\n                        <div className=\"flex items-center gap-1 mt-1\">\r\n                            <div className=\"flex\">\r\n                                {[1, 2, 3, 4, 5].map((star) => (\r\n                                    <Star key={star} className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" />\r\n                                ))}\r\n                            </div>\r\n                            <span className=\"text-xs text-muted-foreground ml-1\">(4.8)</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Bottom Row inside Middle (Mobile typically breaks this) */}\r\n                    <div className=\"flex items-center gap-2 mt-2\">\r\n                        {product.thcPercentage && (\r\n                            <Badge variant=\"secondary\" className=\"text-[10px] bg-secondary/50 rounded-sm px-1.5 font-normal text-muted-foreground border-0\">\r\n                                {product.thcPercentage}% THC\r\n                            </Badge>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right: Price & Action */}\r\n                <div className=\"flex flex-col justify-between items-end p-4 min-w-[120px] text-right border-l border-border/30 bg-secondary/5\">\r\n                    <div>\r\n                        <div className=\"flex items-baseline justify-end gap-1\">\r\n                            <span className=\"font-bold text-lg\">${price}</span>\r\n                            <span className=\"text-xs text-muted-foreground font-normal\">\r\n                                {product.weight || \"/ each\"}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Button\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            // Add to cart logic\r\n                        }}\r\n                        className=\"rounded-full bg-[#00CDBC] hover:bg-[#00b2a3] text-white font-semibold text-sm h-8 px-6 w-full shadow-sm hover:shadow-md transition-all\"\r\n                    >\r\n                        Add\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]}]